I"ö<p>When working with Node.js you might encounter situations where you need multiple versions of Node.js on the same machine. In my case, I want to create <a href="https://docs.microsoft.com/en-us/sharepoint/dev/spfx/set-up-your-development-environment">SPFx components for SharePoint Online</a> and on the same machine create components for the <a href="https://github.com/pnp/office365-cli">Office 365 CLI</a>.</p>

<p>Both solutions require different versions of Node.js. This adds the burden of manually installing or uninstalling Node versions and their global packages when switching projects.</p>

<div class="alert warning">
    At the time of writing SPFx runs on [Node.js v8.x and Node v10.x], while Office 365 CLI runs on [Node.js &gt;= v12.0.0]. With Node.js v12 installed, I am not able to create SPFx components. 
</div>

<p>Luckily, you can tackle this problem by using a project called Node Version Manager.</p>
<ul>
  <li>for Linux and macOS use <a href="https://github.com/creationix/nvm">nwm</a>.</li>
  <li>for Windows use the <a href="https://github.com/coreybutler/nvm-windows">Node Version Manager (nwm) for Windows</a>.</li>
</ul>

<h3 id="install-nvm-for-windows">Install nvm for Windows</h3>
<p>Before installing the latest package, ensure that you cleanup your environment first:</p>
<ul>
  <li>Uninstall existing Node instances and remove existing installation directories</li>
  <li>Uninstall existing npm install location (e.g. ‚ÄúC:\Users&lt;user&gt;\AppData\Roaming\npm‚Äù)</li>
  <li><a href="https://github.com/coreybutler/nvm/releases">Download</a> the latest version of nvm for Windows and install it</li>
</ul>

<p>After installing nvm, I have to install the desired Node instances using a PowerShell command prompt <b>in an administrative context</b>. I need Node v10.19.0 for SPFx and Node v12.16.1 for Office 365 CLI. Therefore, I executing these commands.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre># installs the node version 10.19.0
nvm install 10.19.0
nvm use 10.19.0
npm install -g yo gulp
npm install -g @microsoft/generator-sharepoint
gulp trust-dev-cert

# installs the node version 12.16.1
nvm install 12.16.1
nvm use 12.16.1
npm install -g gulp-cli
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The commands above install the desired Node versions and the global utilities required by both Node versions.</p>

<h3 id="using-nvm-for-windows">Using nvm for Windows</h3>
<p>Adding multiple Node instances and switching between these is much easier with this approach.</p>

<p>The change of the current Node instance can be performed with the use command.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>nvm use 12.16.1
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Remember that the operations have to be executed in an administrative context.</p>

:ET